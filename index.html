<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercice - Juste Prix - JS</title>
    <link rel="stylesheet" href="./style.css">
    <script src="./langagues/languages.js" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        /* Style des messages d'erreur et de validation */
       .error {
        background-color: #e96060; 
    }
        .valid {
        background-color: #6fec6f; 
    }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- <link href="https://fonts.googleapis.com/css2?family=Itim&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Itim&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Itim&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet"> -->

    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Itim&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&family=Pacifico&display=swap" rel="stylesheet">
</head>
<body>

    <header>
        <div class="title">
            <h1 id="title">Bienvenue dans le jeu du juste chiffre ✨</h1>
        </div>
        <div class="open-overlay">
            <button id="openOverlay"><i class="fa-regular fa-lightbulb"></i></button>
        </div>
    </header>

    <main>

        <section>
            <div>
                    <!-- Bouton pour ouvrir le pop-up manuellement (optionnel) -->
                <button id="openPopupButton" style="display: none;">Voir Instructions & Charte Graphique</button> 
            </div>
            <!-- Structure du pop-up -->
            <div id="popupOverlay" class="overlay" style="display: flex;">
                <div id="popupContent" class="popup">
                    <span id="closePopupButton" class="close"><i class="fa-solid fa-xmark"></i></span>
                    <h2 id="instructions">Instructions et Charte Graphique</h2>
                    <div class="choix-langue">
                        <label id="choiceLangue" for="languagesSelect">Choisissez une langue avant de commencer à jouer</label>
                        <select name="" id="languagesSelect">
                            <option value="langueChoice">Chosir une langue</option>
                            <option value="fr">Français</option>
                            <option value="en">Anglais</option>
                            <option value="es">Espagnol</option>
                            <option value="ar">Arabe</option>
                            <option value="lin">Lingala</option>
                            <option value="it">Italien</option>
                        </select>
                    </div>
                    <section>
                        <h3 id="playing">Comment Jouer ?</h3>
                        <p id="playingPara1">- Devinez le nombre caché entre 1 et le maximum indiqué.</p>
                        <p id="playingPara2">- Le nombre de tentative possible, la police d'écriture & les couleurs changent en fonction du niveau de difficulté :</p>
                        <ol>
                            <li id="playingLi1"><span class="niveau-facile">Vert</span> : Niveau Facile</li>
                            <li id="playingLi2"><span class="niveau-moyen">Orange</span> : Niveau Moyen</li>
                            <li id="playingLi3"><span class="niveau-difficile">Rouge</span> : Niveau Difficile</li>
                        </ol>
                        <p id="playingPara3">- Le champs où s'affiche le nombre à trouver s'ajuste avec des couleurs différentes. </p>
                        <ul>
                            <li id="playingLi4" class="green"><span>Vert :</span> le nombre est trouver</li>
                            <li id="playingLi5" class="red"><span>Rouge :</span> Vous chauffez, le nombre a trouver est très proche</li>
                            <li id="playingLi6" class="orange"><span>Orange :</span> Vous êtes assez proche du nombre à trouver</li>
                            <li id="playingLi7" class="blue"><span>Bleu :</span> Vous vous éloignez du nombre à trouver</li>
                        </ul>
                        <p id="playingPara4">- Les nombres dejà tenté seront afficher afin de limiter les répétitions, et ne seront donc pas comptabilisé comme des tentatives.</p>
                        <p id="playingPara5">- Le timer ne se lance que lorsque le 1er nombre est renseigner.(valable pour chaque niveau)</p>
                        <ul>
                            <li id="playingLi8">Vous pouvez soutenir le développeur via les réseaux en bas de page</li>
                        </ul>
                        <div class="close-overlay">
                            <button id="closeButtonOverlay">Commencer le jeu</button>
                        </div>
                    </section>
                </div>
            </div>
        </section>

        <section class="position-carte">
            <div class="carte" id="carte">
                <img src="./images/carte_yugioh.png" alt="carte yu-gi-oh" id="carte">
            </div>
        </section>

        <section class="position-button">
            <div class="position-btn1">
                <button type="submit" id="resetButton" style="display: none;"><i class="fa-solid fa-rotate-left"></i></button>
            </div>
            <div class="position-btn2">
                <button id="nextLevelButton"><i class="fa-solid fa-forward"></i></button>
            </div>
        </section>

        <section class="consigne">
            <div>
                <h2 id="timerDisplay" class="timer-display"></h2>
            </div>
            <div class="position-score">
                <h2 id="message"><span id="secretNumber"></span></h2>
            </div>
            <div class="tenta">
                <h2>
                    <span id="nbTentatives">Tentatives restantes : </span> 
                    <b><span id="tentatives"></span></b> 
                </h2>
            </div>
        </section>

        <div id="congratulationsPopup" class="popup-congrats hidden">
            <p id="congratulations">Félicitations ! Niveau réussi !</p>
            <button onclick="closePopupCongrats()">OK</button>
        </div>

        <section class="guess-form">
            <form id="guessForm">
                <div class="enter-proposition">
                    <label id="enterProposition" for="guessInput">Entrez votre proposition : </label>
                </div>
                <div class="number">
                    <input type="tel" id="guessInput" inputmode="numeric" min="1" title="Seul les nombres sont autorisés. Si vous renseigner autre chose qu'un nombre l'input sera rouge, si c'est un nombre compris entre 1 et 3 chiffres l'input sera vert." required> 
                </div>
                <div>
                    <div id="nombresTentesDisplay" class="nombres-tentes"></div>
                </div>
                <div class="btn-submit">
                    <button type="submit" id="submitButton">Proposer</button>
                </div>
            </form>
        </section>
        
    </main>

    <footer>
        <div class="icon-group">
            <div class="linkedin">
                <a href="https://www.linkedin.com/in/adnam-koud-demaurisa-447379194/" target="_blank"><i class="fa-brands fa-linkedin"></i></a> 
              </div>
            
            <div class="github">
                <a href="https://github.com/AdnamDemaurisa59/Juste-Prix-JS" target="_blank" class="github"><i class="fa-brands fa-github"></i></a>
            </div>
        </div>
        <p id="footerPara"> &copy; 2024 - Jeu créér par <a href="https://www.linkedin.com/in/adnam-koud-demaurisa-447379194/" target="_blank">Adnam Koud Demaurisa</a></p>
    </footer>

    <script src="./script.js"></script>
    <!-- <script src="./three-js/main.js"></script> -->

    <!-- <script>
        function showCongratulationsPopup() {
            const popup = document.getElementById('congratulationsPopup');
            popup.classList.remove('hidden');
            setTimeout(() => closePopup(), 3000); // Ferme automatiquement après 3 secondes
        }
        
        function closePopupCongrats() {
            const popup = document.getElementById('congratulationsPopup');
            popup.classList.add('hidden');
        }
    </script> -->


    <script>
       // Sélection des champs d'entrée
       const telephoneInput = document.getElementById('guessInput');
       
       // Regex pour le téléphone
       const telRegex = /^[0-9]{1,3}$/;

       // Fonction de validation pour le champ de téléphone
       telephoneInput.addEventListener('input', () => {
           if (telephoneInput.value === '') {
               telephoneInput.classList.remove('error', 'valid');
           } else if (!telRegex.test(telephoneInput.value)) {
               telephoneInput.classList.add('error');
               telephoneInput.classList.remove('valid');
           } else {
               telephoneInput.classList.remove('error'); 
               telephoneInput.classList.add('valid'); 
           }
       });
    </script>
    
</body>
</html>